# This file is generated by Ansible
#  DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN
#
elements-dir: /etc/nodepool/elements
images-dir: /opt/nodepool/images
script-dir: /etc/nodepool/scripts

gearman-servers:
  - host: 127.0.5.1
    port: 4730

zookeeper-servers:
  - host: 127.0.6.1
    port: 2181

diskimages:
  - name: centos-7
    elements:
      - centos-minimal
      - vm
      - simple-init
      - growroot

  - name: ubuntu-trusty
    elements:
      - ubuntu-minimal
      - vm
      - simple-init
      - growroot
    env-vars:
      DIB_DISABLE_APT_CLEANUP: '1'
    release: trusty

  - name: ubuntu-xenial
    elements:
      - ubuntu-minimal
      - vm
      - simple-init
      - growroot
    env-vars:
      DIB_DISABLE_APT_CLEANUP: '1'
    release: xenial

  - name: centos-7-tarball
    elements:
      - centos-minimal
    env-vars:
      SKIP_BASE: '1'

  - name: ubuntu-trusty-tarball
    elements:
      - ubuntu-minimal
    env-vars:
      DIB_DISABLE_APT_CLEANUP: '1'
      SKIP_BASE: '1'
    release: trusty

  - name: ubuntu-xenial-tarball
    elements:
      - ubuntu-minimal
    env-vars:
      DIB_DISABLE_APT_CLEANUP: '1'
      SKIP_BASE: '1'
    release: xenial

labels:
  - name: centos-7
    image: centos-7
    min-ready: 1
    providers:
      - name: devstack
  - name: ubuntu-trusty
    image: ubuntu-trusty
    min-ready: 1
    providers:
      - name: devstack
  - name: ubuntu-xenial
    image: ubuntu-xenial
    min-ready: 1
    providers:
      - name: devstack

providers:
  - name: devstack
    cloud: openstackzuul-devstack
    max-servers: 10
    images:
      - name: centos-7
        min-ram: 8192
        diskimage: centos-7
        private-key: /var/lib/nodepool/.ssh/id_rsa
      - name: ubuntu-trusty
        min-ram: 8192
        diskimage: ubuntu-trusty
        private-key: /var/lib/nodepool/.ssh/id_rsa
      - name: ubuntu-xenial
        min-ram: 8192
        diskimage: ubuntu-xenial
        private-key: /var/lib/nodepool/.ssh/id_rsa
  - name: diskimage-builder
    max-servers: 0
    image-type: tgz
    images:
      - name: centos-7-tarball
        min-ram: 1024
      - name: ubuntu-trusty-tarball
        min-ram: 1024
      - name: ubuntu-xenial-tarball
        min-ram: 1024
