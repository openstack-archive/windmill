- job:
    name: windmill-buildimages
    parent: tox
    description: |
      Run test for windmill project.

      Uses tox with the ``buildimages`` environment.
    vars:
      tox_envlist: buildimages
    timeout: 3600

- job:
    name: windmill-base
    run: tests/tox/run.yaml
    timeout: 3600
    required-projects:
      - openstack/windmill
    vars:
      tox_envlist: deploy

- job:
    name: windmill-centos-7
    parent: windmill-base
    nodeset: centos-7

- job:
    name: windmill-fedora-26
    parent: windmill-base
    nodeset: fedora-26

- job:
    name: windmill-ubuntu-xenial
    parent: windmill-base
    nodeset: ubuntu-xenial
